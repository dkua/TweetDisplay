<!-- 
The Star Wars-esque scrolling text CSS came from the tutorial located here:
ttp://www.sitepoint.com/css3-starwars-scrolling-text
-->

<!DOCTYPE html>
<html lang="eng">
  <head>
    <script src="/jquery-1.10.2.min.js"></script>
    <link href="/style.css" rel="stylesheet"></link>
  </head>

  <body>
    <div class="navbar">
      <ul>
        <li>
          <a href="/"><input type="button" value="Home"></a>
        </li>
        <li>
          <input type="button" value="Tweets" onClick="changeStage('/tweets');">
        </li>
        <li>
          <input type="button" value="Users" onClick="changeStage('/users');">
        </li>
      </ul>
    </div>
    <div id="title">
      <div id="titlecontent">
        <p>
        This is my project for Assignment #1 of CSCC09.
        Please click some of the links above for new data from my API.
        <br>
        <br>
        Cheers,<br>
        David Kua
        </p>
      </div>
    </div>
  </body>

  <script type="text/javascript">
    function changeStage(url) {

      var stage = $("#titlecontent");
      stage.empty();

      var newStage = stage.clone(true);
      newStage.offsetWidth;
      $.getJSON(url, function(data) {
        $.each(data, function(key, val) {
          para = document.createElement("p");
          para.innerHTML = val;
          newStage.append(para);
        });
      });

      stage.after(newStage);
      stage.remove();
    };
  </script>
</html>
